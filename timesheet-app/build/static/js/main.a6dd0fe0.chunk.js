(this["webpackJsonptimesheet-app"]=this["webpackJsonptimesheet-app"]||[]).push([[0],{28:function(e,a,t){e.exports=t(58)},58:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(8),l=t.n(r),s=t(2),i=t(4),m=t(25),o=t(27),u=t(3),d=t.n(u),p=t(6),v=t(10),f=t.n(v),b="https://zile-timesheet.herokuapp.com/events",E=function(e){return f.a.delete("".concat(b,"/").concat(e))},h="CREATE",g="DELETE",N="FETCH_ALL",j=function(e){return function(){var a=Object(p.a)(d.a.mark((function a(t){var n,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r=e,f.a.post(b,r);case 3:n=a.sent,c=n.data,t({type:h,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}var r}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},y=Object(i.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return a.payload;case h:return[].concat(Object(o.a)(e),[a.payload]);case g:return e.filter((function(e){return e._id!==a.payload}));default:return e}}}),O=t(5),w=t(11),k=function(e){var a=e.event,t=Object(s.b)();return c.a.createElement("div",{className:"check-flag"},c.a.createElement("span",{className:"small-text-label"},"Title"),c.a.createElement("span",{className:"small-text-label hours"},"Hours"),c.a.createElement("span",{className:"check-flag-label"},a.name),c.a.createElement("span",{className:"hours-box check-flag-label"},a.time),c.a.createElement("p",{className:"delete",onClick:function(){return t((e=a._id,function(){var a=Object(p.a)(d.a.mark((function a(t){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e);case 3:t({type:g,payload:e}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0.message);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()));var e}},"\u2717"))},x=function(){var e=Object(s.c)((function(e){return e.events}));return c.a.createElement(c.a.Fragment,null,e.map((function(e){return c.a.createElement("div",{className:"item-row",key:e._id},c.a.createElement(k,{event:e}))})))},q=t(26),L=t.n(q),C=function(){var e=Object(n.useState)(0),a=Object(w.a)(e,2),t=a[0],r=a[1],l=Object(s.b)(),i=Object(n.useState)({}),m=Object(w.a)(i,2),o=m[0],u=m[1],v=Object(n.useState)({name:"",time:""}),E=Object(w.a)(v,2),h=E[0],g=E[1],y=Object(s.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null})),k=Object(s.c)((function(e){return e.events.map((function(e){return parseInt(e.time)}))}));Object(n.useEffect)((function(){l(function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(b);case 3:t=e.sent,n=t.data,a({type:N,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()),q()}),[t,l]),Object(n.useEffect)((function(){y&&g(y)}),[y]);var q=function(){fetch("/quotes.json").then((function(e){return e.json()})).then((function(e){var a=e.quotes,t=a[Math.floor(Math.random()*a.length)];u(Object(O.a)(Object(O.a)({},o),{},{quote:t.quote,author:t.name}))}))},C=k.reduce((function(e,a){return e+a}),0);var S=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),l(j(h)),document.getElementById("modaling").classList.remove("is-visible"),r(0),g({name:"",time:""});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return document.addEventListener("click",(function(e){e.target===document.querySelector(".modal-wrap.is-visible")&&document.querySelector(".modal-wrap.is-visible").classList.remove("is-visible")})),document.addEventListener("keyup",(function(e){"Escape"===e.key&&document.querySelector(".modal-wrap.is-visible")&&document.querySelector(".modal-wrap.is-visible").classList.remove("is-visible")})),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page-wrap"},c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"wrap"},c.a.createElement("span",{className:"btn-icon"},c.a.createElement("img",{className:"icon icon-plus js-modal-init",src:"icons/icon-add.svg",alt:"Add New Item",onClick:function(){document.getElementById("modaling").classList.add("is-visible")}})),c.a.createElement("div",{className:"header-blockquote"},c.a.createElement("h1",{className:"header-quote"},o.quote),c.a.createElement("div",{className:"header-cite"},o.author))),c.a.createElement("div",{className:"header-inner"},c.a.createElement("div",{className:"wrap"},c.a.createElement("img",{className:"logo",src:"images/vegait-logo.svg",alt:"VegaIT"}),c.a.createElement("div",{className:"date-wrap"},c.a.createElement("img",{className:"icon",src:"icons/icon-calendar2.svg",alt:"Calendar"}),c.a.createElement("time",null," ",L()().format("LL")," "))))),c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"wrap"},c.a.createElement(x,null),c.a.createElement("div",null,c.a.createElement("div",{className:"total align-right"},c.a.createElement("label",{className:"total-label"},"Total:"),c.a.createElement("input",{className:"total-input",type:"text",value:C,readOnly:!0})),c.a.createElement("div",{className:"total align-left"}))))),c.a.createElement("div",{className:"modal-wrap js-modal",id:"modaling",onSubmit:S},c.a.createElement("div",{className:"modal js-modal-inner"},c.a.createElement("h2",null,"Create a task:"),c.a.createElement("form",null,c.a.createElement("div",{className:"field-wrap"},c.a.createElement("label",{className:"label"},"Title:"),c.a.createElement("input",{className:"field",type:"text",name:"name",onChange:function(e){return g(Object(O.a)(Object(O.a)({},h),{},{name:e.target.value}))},placeholder:"Enter title here...",required:!0,maxLength:"40"})),c.a.createElement("div",{className:"field-wrap"},c.a.createElement("label",{className:"label"},"Hours:"),c.a.createElement("input",{className:"field",type:"number",name:"time",onChange:function(e){return g(Object(O.a)(Object(O.a)({},h),{},{time:e.target.value}))},placeholder:"Add hours here...",min:"0",max:"100",required:!0})),c.a.createElement("div",{className:"btn-wrap align-right"},c.a.createElement("input",{className:"btn",type:"submit",value:"Create"}))))))},S=Object(i.e)(y,Object(i.d)(Object(i.a)(m.a)));l.a.render(c.a.createElement(s.a,{store:S},c.a.createElement(C,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.a6dd0fe0.chunk.js.map